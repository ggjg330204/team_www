# í”„ë¡œì íŠ¸ ê°œìš” (Project Overview)

## 1. í”„ë¡œì íŠ¸ ì£¼ì œ
**"ì œë¡œ íŠ¸ëŸ¬ìŠ¤íŠ¸ ê¸°ë°˜ ë³´ì•ˆ í´ë¼ìš°ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ í”Œë«í¼ ë° ì§€ëŠ¥í˜• ìœ„í˜‘ ëŒ€ì‘ ì‹œìŠ¤í…œ êµ¬ì¶•"**
(Zero Trust-based Secure Cloud Application Platform & Intelligent Threat Response System)

ì´ í”„ë¡œì íŠ¸ëŠ” ê¸°ì¡´ì˜ í•˜ì´ë¸Œë¦¬ë“œ í´ë¼ìš°ë“œ ì¸í”„ë¼ ìœ„ì— **ë°ì´í„° ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤‘ì‹¬ì˜ ë³´ì•ˆ(Data & App Security)**ì„ ê°•í™”í•˜ê³ , **ì§€ëŠ¥í˜• ìœ„í˜‘ íƒì§€ ë° ìë™í™”ëœ ëŒ€ì‘(SecOps)** ì²´ê³„ë¥¼ êµ¬ì¶•í•˜ì—¬ ì•ˆì „í•˜ê³  íƒ„ë ¥ì ì¸ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë¥¼ ì™„ì„±í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

## 2. í”„ë¡œì íŠ¸ êµ¬ì„±

ë³¸ í”„ë¡œì íŠ¸ëŠ” í¬ê²Œ 3ê°€ì§€ ë‹¨ê³„ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° ë‹¨ê³„ëŠ” í´ë¼ìš°ë“œ ì¸í”„ë¼ì˜ ì•ˆì •ì„±, ë‚´ë¶€ ë³´ì•ˆ, ì™¸ë¶€ ë³´ì•ˆì„ ê²€ì¦í•˜ê³  ê°•í™”í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

### ê°€. ì•„í‚¤í…ì²˜ ê²€ì¦ (Architecture Verification)
êµ¬ì¶•ëœ í•˜ì´ë¸Œë¦¬ë“œ í´ë¼ìš°ë“œ ì¸í”„ë¼ê°€ ì„¤ê³„ëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê³ , ê³ ê°€ìš©ì„±(HA) ë° ì„±ëŠ¥ì„ ê²€ì¦í•©ë‹ˆë‹¤.
*   **ì£¼ìš” í™œë™**: VMSS ì˜¤í† ìŠ¤ì¼€ì¼ë§ í…ŒìŠ¤íŠ¸, DB Failover í…ŒìŠ¤íŠ¸, ë¶€í•˜ ë¶„ì‚° í™•ì¸.
*   **ëª©í‘œ**: ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ëŠ” ì•ˆì •ì ì¸ ì¸í”„ë¼ ìš´ì˜ ë³´ì¥.

### ë‚˜. ë‚´ë¶€ ë³´ì•ˆ (Internal Security - Project 3)
í´ë¼ìš°ë“œ ë‚´ë¶€ ìì‚°(ë°ì´í„°, ì• í”Œë¦¬ì¼€ì´ì…˜)ì„ ë³´í˜¸í•˜ê³ , ì œë¡œ íŠ¸ëŸ¬ìŠ¤íŠ¸ ì›ì¹™ì„ ì ìš©í•©ë‹ˆë‹¤.
*   **ID ë° ì•¡ì„¸ìŠ¤ ê´€ë¦¬**: RBAC ê¶Œí•œ ë¶„ë¦¬, Azure Policy ì ìš©.
*   **ë°ì´í„° ë³´í˜¸**: DB/Storage ì•”í˜¸í™”, Private Endpoint ì ìš©, Key Vault ì—°ë™.
*   **ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ**: ì›¹ ì·¨ì•½ì (SQL Injection, XSS) ë°©ì–´ ë° ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦.

### ë‹¤. ì™¸ë¶€ ë³´ì•ˆ (External Security - Project 4)
ì™¸ë¶€ ìœ„í˜‘ìœ¼ë¡œë¶€í„° ì‹œìŠ¤í…œì„ ë°©ì–´í•˜ê³ , ì§€ëŠ¥í˜• ìœ„í˜‘ íƒì§€ ë° ëŒ€ì‘ ì²´ê³„ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.
*   **ìœ„í˜‘ íƒì§€ (SIEM)**: Microsoft Sentinelì„ í™œìš©í•œ ë¡œê·¸ ë¶„ì„ ë° ìœ„í˜‘ ì‹ë³„.
*   **ìë™í™”ëœ ëŒ€ì‘ (SOAR)**: ìœ„í˜‘ íƒì§€ ì‹œ ìë™ ì°¨ë‹¨ ë° ì•Œë¦¼(Playbook) êµ¬í˜„.
*   **í´ë¼ìš°ë“œ ì›Œí¬ë¡œë“œ ë³´í˜¸**: Defender for Cloudë¥¼ í†µí•œ ì·¨ì•½ì  ì§„ë‹¨ ë° ë³´í˜¸.

---

## 3. ì—­í• ë³„ ì•„í‚¤í…ì²˜ ë° í•µì‹¬ í¬ì¸íŠ¸

íŒ€ì›ì˜ ì—­í• ì— ë”°ë¼ ì§‘ì¤‘í•´ì„œ ë´ì•¼ í•  ì•„í‚¤í…ì²˜ ë·°(View)ì™€ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ‘· **1) ì•„í‚¤í…ì²˜ ë° ì¸í”„ë¼ ê²€ì¦ ë‹´ë‹¹ (Architecture View)**
**"ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ ì—†ì´ ì˜ ëŒì•„ê°€ëŠ”ê°€?"**

*   **ë„¤íŠ¸ì›Œí¬ êµ¬ì¡° (Hub-Spoke):**
    *   **Hub VNet:** ë³´ì•ˆì˜ ì¤‘ì•™ ê±°ì . Azure Firewallê³¼ Bastionì´ ìœ„ì¹˜í•©ë‹ˆë‹¤.
    *   **Spoke VNet:** ì‹¤ì œ ì„œë¹„ìŠ¤ê°€ êµ¬ë™ë˜ë©° Web/App/Data ê³„ì¸µìœ¼ë¡œ ì„œë¸Œë„·ì´ ë¶„ë¦¬ë©ë‹ˆë‹¤.
*   **íŠ¸ë˜í”½ íë¦„ (Inbound/Outbound):**
    *   **Inbound:** User â†’ Traffic Manager â†’ Front Door â†’ App Gateway (WAF) â†’ VMSS.
    *   **Outbound:** VMSS â†’ NAT Gateway â†’ Azure Firewall â†’ Internet. (ë‹¨ì¼ IP í†µì‹  ë³´ì¥)
*   **ê³ ê°€ìš©ì„± (HA):**
    *   **MySQL Flexible Server:** Zone Redundant (ê°€ìš© ì˜ì—­ ì´ì¤‘í™”) êµ¬ì„±.
    *   **VMSS:** ë¶€í•˜ì— ë”°ë¥¸ ì˜¤í† ìŠ¤ì¼€ì¼ë§(Auto-scaling) ì„¤ì •.
    *   **Traffic Manager:** ë¦¬ì „ ì¥ì•  ì‹œ íŠ¸ë˜í”½ ìš°íšŒ ê°€ëŠ¥.

*   **ì£¼ìš” í™•ì¸ ëŒ€ìƒ:**
    *   **VMSS Auto-scaling:** ë¶€í•˜ ë°œìƒ ì‹œ ì¸ìŠ¤í„´ìŠ¤ê°€ ëŠ˜ì–´ë‚˜ëŠ”ê°€?
    *   **Private Link:** Private Endpointë¥¼ í†µí•´ ë‚´ë¶€ í†µì‹ ì´ ì •ìƒì ìœ¼ë¡œ ë˜ëŠ”ê°€?
    *   **Nat Gateway:** ë‚´ë¶€ ì„œë²„ê°€ ì™¸ë¶€ ì—…ë°ì´íŠ¸ë¥¼ ë°›ì„ ë•Œ ë‹¨ì¼ IPë¡œ ë‚˜ê°€ëŠ”ê°€?

### ğŸ”’ **2) ë‚´ë¶€ ë³´ì•ˆ ë‹´ë‹¹ (Internal Security View)**
**"ë‚´ë¶€ ë°ì´í„°ì™€ ì ‘ê·¼ ê¶Œí•œì´ ì•ˆì „í•œê°€?"**

*   **ë°ì´í„° ê²©ë¦¬ (Isolation):**
    *   **Private Endpoint:** DB, Redis, Storage, Key VaultëŠ” **Public IPê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤.** ì˜¤ì§ ë‚´ë¶€ VNetì˜ Private IPë¡œë§Œ í†µì‹ í•©ë‹ˆë‹¤.
    *   **VNet Peering:** Hubì™€ Spoke ê°„ í”¼ì–´ë§ì„ í†µí•´ ê´€ë¦¬ íŠ¸ë˜í”½ë§Œ í—ˆìš©í•©ë‹ˆë‹¤.
*   **ID ë° ê¶Œí•œ ê´€ë¦¬ (Identity):**
    *   **Entra ID (RBAC):** ì‚¬ìš©ìì— ë”°ë¼ ìµœì†Œ ê¶Œí•œ ì›ì¹™(Least Privilege)ì„ ì ìš©í•©ë‹ˆë‹¤.
    *   **Managed Identity:** VMì´ Access Key(í•˜ë“œì½”ë”©ëœ ë¹„ë°€ë²ˆí˜¸) ì—†ì´ Key Vaultë‚˜ Storageì— ì ‘ê·¼í•˜ë„ë¡ êµ¬ì„±í•©ë‹ˆë‹¤.
*   **ë³´ì•ˆ ì •ì±…:**
    *   **Azure Policy:** í—ˆìš©ë˜ì§€ ì•Šì€ ë¦¬ì „(Korea Central ì™¸) ë¦¬ì†ŒìŠ¤ ìƒì„± ì°¨ë‹¨, HTTPS ê°•ì œ.

*   **ì£¼ìš” í™•ì¸ ëŒ€ìƒ:**
    *   **Key Vault:** DB ë¹„ë°€ë²ˆí˜¸ ë“± ë¯¼ê° ì •ë³´ê°€ ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ê³  í˜¸ì¶œë˜ëŠ”ê°€?
    *   **NSG (Network Security Group):** ì„œë¸Œë„· ê°„ ë¶ˆí•„ìš”í•œ í¬íŠ¸ê°€ ì°¨ë‹¨ë˜ì–´ ìˆëŠ”ê°€? (Micro-segmentation)
    *   **Azure Policy:** ë¦¬ì†ŒìŠ¤ ìƒì„± ìœ„ì¹˜ ì œí•œ, íƒœê·¸ ê°•ì œ ë“± ì •ì±…ì´ ì ìš©ë˜ëŠ”ê°€?
    *   **MySQL Security:** TDE ì•”í˜¸í™”, ë°ì´í„° ë§ˆìŠ¤í‚¹ì´ ì ìš©ë˜ì–´ ìˆëŠ”ê°€?

### ğŸ›¡ï¸ **3) ì™¸ë¶€ ë³´ì•ˆ ë° ê´€ì œ ë‹´ë‹¹ (External Security & SecOps View)**
**"ê³µê²©ì„ íƒì§€í•˜ê³  ëŒ€ì‘í•  ìˆ˜ ìˆëŠ”ê°€?"**

*   **ì‹¬ì¸µ ë°©ì–´ (Defense in Depth):**
    *   **Edge:** Front Door (CDN ë ˆë²¨ DDoS ë°©ì–´).
    *   **Perimeter:** Azure Firewall (L3/L4/L7 í•„í„°ë§, ìœ„í˜‘ ì¸í…”ë¦¬ì „ìŠ¤ ì°¨ë‹¨).
    *   **Application:** App Gateway WAF (OWASP 3.2 ê·œì¹™ - SQLi, XSS ì°¨ë‹¨).
    *   **Host:** NSG (ì„œë¸Œë„·/NIC ë ˆë²¨ í¬íŠ¸ ì°¨ë‹¨), Defender for Cloud.
*   **ë³´ì•ˆ ê´€ì œ (SecOps):**
    *   **Log Analytics:** ëª¨ë“  ë¦¬ì†ŒìŠ¤(Firewall, VM, DB)ì˜ ë¡œê·¸ë¥¼ ì¤‘ì•™ ìˆ˜ì§‘.
    *   **Microsoft Sentinel:** ìˆ˜ì§‘ëœ ë¡œê·¸ë¥¼ KQLë¡œ ë¶„ì„í•˜ì—¬ ê³µê²© ì§•í›„ íƒì§€ ë° SOAR(Logic App)ë¥¼ í†µí•œ ìë™ ì°¨ë‹¨ ìˆ˜í–‰.

*   **ì£¼ìš” í™•ì¸ ëŒ€ìƒ:**
    *   **WAF (Web Application Firewall):** SQL Injection, XSS ê³µê²©ì„ ì°¨ë‹¨í•˜ëŠ”ê°€?
    *   **Microsoft Sentinel:** SSH Brute Force ë“± ìœ„í˜‘ì„ íƒì§€í•˜ê³  ì•Œë¦¼(Alert)ì„ ë³´ë‚´ëŠ”ê°€?
    *   **Log Analytics:** ë°©í™”ë²½ ë¡œê·¸, ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ê°€ ì •ìƒì ìœ¼ë¡œ ìˆ˜ì§‘ë˜ëŠ”ê°€?

---

## 4. ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”

ë³¸ í”„ë¡œì íŠ¸ëŠ” **Hub-Spoke ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ë³´ì•ˆê³¼ ê´€ë¦¬ íš¨ìœ¨ì„±ì„ ìœ„í•´ ì¤‘ì•™ ê´€ë¦¬ ë„¤íŠ¸ì›Œí¬(Hub)ì™€ ì„œë¹„ìŠ¤ ë„¤íŠ¸ì›Œí¬(Spoke)ë¥¼ ë¶„ë¦¬í•˜ì˜€ìœ¼ë©°, **Multi-CIDR** ì„¤ê³„ë¥¼ í†µí•´ ê° ê³„ì¸µ(Management, App, Data)ì„ ë…¼ë¦¬ì /ë¬¼ë¦¬ì ìœ¼ë¡œ ê²©ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

### í•µì‹¬ ì„¤ê³„ ì›ì¹™
- **ë³´ì•ˆ ê²©ë¦¬ (Isolation)**: Public ì ‘ê·¼ì´ í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ì™€ ë‚´ë¶€ ì „ìš© ë¦¬ì†ŒìŠ¤ë¥¼ ì² ì €íˆ ë¶„ë¦¬.
- **ê³ ê°€ìš©ì„± (High Availability)**: Zone Redundant ë°ì´í„°ë² ì´ìŠ¤ ë° VMSS ìë™ í™•ì¥ì„ í†µí•œ ì•ˆì •ì„± í™•ë³´.
- **ì‹¬ì¸µ ë°©ì–´ (Defense in Depth)**: WAF, Azure Firewall, NSG, Private Endpointë¥¼ í†µí•œ ë‹¤ê³„ì¸µ ë³´ì•ˆ ì ìš©.

### ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TD
    %% --- í…Œë§ˆ ì„¤ì • ---
    linkStyle default stroke:#B0BEC5,stroke-width:1px;

    %% --- ì‚¬ìš©ì ë° ì™¸ë¶€ ì§„ì…ì  ---
    user(("ì‚¬ìš©ì<br/>(User / Internet)"))
    admin(("ê´€ë¦¬ì<br/>(Admin / DevOps)"))
    internet(("ì™¸ë¶€ ì¸í„°ë„·<br/>(Internet)"))

    %% --- Global Services ---
    subgraph Global_Azure ["ğŸŒ Global Azure"]
        direction TB
        tm["Traffic Manager<br/>(DNS LB)"]
        fd["Front Door<br/>(CDN/WAF)"]
    end

    %% --- Azure Cloud ì˜ì—­ ---
    subgraph Azure_Cloud ["â˜ï¸ Azure Cloud (Korea Central)"]
        direction TB
        subgraph Hub_VNet ["ğŸ›¡ï¸ Hub VNet (Security Center)"]
            direction TB
            fw["Azure Firewall<br/>(Premium/Std)"]
            bas["Azure Bastion<br/>(Secure Access)"]
        end

        %% 2. Spoke VNet
        subgraph Spoke_VNet ["âš™ï¸ Spoke VNet (Service Workload)"]
            direction TB
            
            %% (1) Presentation
            subgraph Subnet_Public ["Web Tier"]
                appgw["App Gateway (WAF)<br/>L7 Load Balancer"]
                apim["API Management<br/>(Gateway)"]
            end

            %% (2) Application
            subgraph Subnet_App ["App Tier"]
                direction TB
                lb["L4 Load Balancer"]
                nat["NAT Gateway"]
                
                subgraph Compute ["Compute Resources"]
                    webvmss["Web VMSS<br/>(web-vmss)"]
                    wasvmss["WAS VMSS<br/>(was-vmss)"]
                    aci["Azure Container<br/>(Instances)"]
                end
            end

            %% (3) Serverless & Integration
            subgraph Subnet_Func ["Serverless & Integration"]
                func["Function App<br/>(Event Driven)"]
                sb["Service Bus<br/>(Messaging)"]
            end

            %% (4) Data (Private)
            subgraph Subnet_Data ["Data Tier (Private Link)"]
                direction TB
                db[("MySQL Flex<br/>(Zone HA)")]
                redis[("Redis Cache<br/>(Premium)")]
                cosmos[("Cosmos DB<br/>(NoSQL)")]
                st[("Storage Account<br/>(GRS)")]
                kv[("Key Vault<br/>(Secrets)")]
                acr[("ACR<br/>(Registry)")]
                adf["Data Factory<br/>(ETL)"]
                
                %% PE ë…¸ë“œ
                pe_db((PE)) -.-> db
                pe_redis((PE)) -.-> redis
                pe_cosmos((PE)) -.-> cosmos
                pe_st((PE)) -.-> st
                pe_kv((PE)) -.-> kv
                pe_acr((PE)) -.-> acr
            end
        end
    end

    %% --- íŠ¸ë˜í”½ íë¦„ ---
    user == "DNS Query" ==> tm
    tm -. "Routing" .-> fd
    fd == "HTTPS (443)" ==> appgw
    fd == "HTTPS (443)" ==> apim
    
    appgw -- "Routing" --> lb
    apim -- "API Call" --> lb
    lb -- "Balancing" --> webvmss
    lb -- "Balancing" --> wasvmss

    admin -- "HTTPS" --> bas
    bas -. "Peering (SSH)" .-> webvmss
    bas -. "Peering (SSH)" .-> wasvmss
    bas -. "Peering (SSH)" .-> aci

    webvmss -- "Update" --> nat
    wasvmss -- "Update" --> nat
    nat -- "SNAT" --> fw
    fw -- "Filter" --> internet

    %% Data Access
    webvmss == "Private Link" ==> pe_db
    webvmss == "Private Link" ==> pe_redis
    webvmss == "Private Link" ==> pe_st
    wasvmss == "Private Link" ==> pe_db
    wasvmss == "Private Link" ==> pe_cosmos
    wasvmss -. "Secrets" .-> pe_kv
    
    %% Logic Flow
    webvmss -- "Upload" --> st
    st -. "Trigger" .-> func
    func -- "Process" --> st
    func -- "Message" --> sb
    sb -. "Subscribe" .-> wasvmss
    
    %% ETL Flow
    adf -. "Backup" .-> db
    adf -. "Archive" .-> st

    acr -. "Pull" .-> aci
    acr -. "Pull" .-> webvmss
    acr -. "Pull" .-> wasvmss

    fw <== "Peering" ==> appgw
    
    %% --- ìŠ¤íƒ€ì¼ ì •ì˜ (Dark Mode Modern) ---
    classDef hub fill:#1A237E,stroke:#536DFE,stroke-width:2px,color:#fff;
    classDef web fill:#004D40,stroke:#00BFA5,stroke-width:2px,color:#fff;
    classDef app fill:#E65100,stroke:#FFAB40,stroke-width:2px,color:#fff;
    classDef data fill:#4A148C,stroke:#E040FB,stroke-width:2px,color:#fff;
    classDef user fill:#212121,stroke:#B0BEC5,stroke-width:2px,color:#fff;
    classDef global fill:#01579B,stroke:#03A9F4,stroke-width:2px,color:#fff;
    classDef plain fill:none,stroke:none,color:#B0BEC5;

    class fw,bas hub;
    class appgw,apim web;
    class lb,nat,webvmss,wasvmss,aci,func,sb app;
    class db,redis,st,kv,acr,cosmos,adf data;
    class user,admin,internet user;
    class tm,fd global;
    class pe_db,pe_redis,pe_st,pe_kv,pe_acr,pe_cosmos plain;

    style Global_Azure fill:#000000,stroke:#03A9F4,stroke-width:2px,stroke-dasharray: 5 5,color:#fff
    style Azure_Cloud fill:#1e1e1e,stroke:#424242,stroke-width:2px,color:#fff
    style Hub_VNet fill:#263238,stroke:#37474F,stroke-width:2px,color:#90CAF9
    style Spoke_VNet fill:#212121,stroke:#424242,stroke-width:2px,stroke-dasharray: 5 5,color:#B0BEC5
    
    style Subnet_Public fill:#00251a,stroke:#004d40,color:#80cbc4
    style Subnet_App fill:#3e2723,stroke:#3e2723,color:#ffcc80
    style Subnet_Data fill:#311b92,stroke:#311b92,color:#b39ddb
    style Subnet_Func fill:#3e2723,stroke:#3e2723,color:#ffcc80
```